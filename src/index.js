var items = [{"Key":"bitterling","Name":"Bitterling","ItemType":"Fish","Price":900,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["January","February","November","December"],"ShadowSize":"1"},{"Key":"palechub","Name":"Pale chub","ItemType":"Fish","Price":200,"IslandAvailability":"None","Location":"River","Time":"9 AM - 4 PM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"1"},{"Key":"cruciancarp","Name":"Crucian carp","ItemType":"Fish","Price":120,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"2"},{"Key":"dace","Name":"Dace","ItemType":"Fish","Price":200,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"3"},{"Key":"barbelsteed","Name":"Barbel steed","ItemType":"Fish","Price":200,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"3"},{"Key":"carp","Name":"Carp","ItemType":"Fish","Price":300,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"4"},{"Key":"koi","Name":"Koi","ItemType":"Fish","Price":4000,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"4"},{"Key":"goldfish","Name":"Goldfish","ItemType":"Fish","Price":1300,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"1"},{"Key":"popeyedgoldfish","Name":"Popeyed goldfish","ItemType":"Fish","Price":1300,"IslandAvailability":"None","Location":"River","Time":"9 AM - 4 PM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"1"},{"Key":"killifish","Name":"Killifish","ItemType":"Fish","Price":300,"IslandAvailability":"None","Location":"Pond","Time":"All day","Months":["April","May","June","July","August"],"ShadowSize":"1"},{"Key":"crawfish","Name":"Crawfish","ItemType":"Fish","Price":200,"IslandAvailability":"None","Location":"Pond","Time":"All day","Months":["April","May","June","July","August","September"],"ShadowSize":"2"},{"Key":"soft-shelledturtle","Name":"Soft-shelled turtle","ItemType":"Fish","Price":3750,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["August","September"],"ShadowSize":"3"},{"Key":"tadpole","Name":"Tadpole","ItemType":"Fish","Price":100,"IslandAvailability":"None","Location":"Pond","Time":"All day","Months":["March","April","May","June","July"],"ShadowSize":"1"},{"Key":"frog","Name":"Frog","ItemType":"Fish","Price":120,"IslandAvailability":"None","Location":"Pond","Time":"All day","Months":["May","June","July","August"],"ShadowSize":"1"},{"Key":"freshwatergoby","Name":"Freshwater goby","ItemType":"Fish","Price":300,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"2"},{"Key":"loach","Name":"Loach","ItemType":"Fish","Price":300,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["March","April","May"],"ShadowSize":"2"},{"Key":"catfish","Name":"Catfish","ItemType":"Fish","Price":800,"IslandAvailability":"None","Location":"Lake","Time":"4 PM - 9 AM","Months":["May","June","July","August","September","October"],"ShadowSize":"4"},{"Key":"eel","Name":"Eel","ItemType":"Fish","Price":2000,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["June","July","August","September"],"ShadowSize":"Narrow"},{"Key":"giantsnakehead","Name":"Giant snakehead","ItemType":"Fish","Price":5500,"IslandAvailability":"None","Location":"Lake","Time":"9 AM - 4 PM","Months":["June","July","August"],"ShadowSize":"5"},{"Key":"bluegill","Name":"Bluegill","ItemType":"Fish","Price":120,"IslandAvailability":"None","Location":"River","Time":"9 AM - 4 PM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"2"},{"Key":"yellowperch","Name":"Yellow perch","ItemType":"Fish","Price":240,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["January","February","March","October","November","December"],"ShadowSize":"2"},{"Key":"blackbass","Name":"Black bass","ItemType":"Fish","Price":300,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"4"},{"Key":"pike","Name":"Pike","ItemType":"Fish","Price":1800,"IslandAvailability":"None","Location":"River","Time":"4 AM - 9 PM","Months":["September","October","November","December"],"ShadowSize":"5"},{"Key":"pondsmelt","Name":"Pond smelt","ItemType":"Fish","Price":300,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["January","February","December"],"ShadowSize":"2"},{"Key":"sweetfish","Name":"Sweetfish","ItemType":"Fish","Price":900,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["July","August","September","October"],"ShadowSize":"3"},{"Key":"cherrysalmon","Name":"Cherry salmon","ItemType":"Fish","Price":1000,"IslandAvailability":"None","Location":"River","Time":"4 AM - 9 AM &amp; 4 PM - 9 PM","Months":["March","April","May","June","September","October","November"],"ShadowSize":"3"},{"Key":"char","Name":"Char","ItemType":"Fish","Price":3800,"IslandAvailability":"None","Location":"Waterfall","Time":"4 AM - 9 AM &amp; 4 PM - 9 PM","Months":["March","April","May","June","September","October","November"],"ShadowSize":"3"},{"Key":"rainbowtrout","Name":"Rainbow trout","ItemType":"Fish","Price":800,"IslandAvailability":"None","Location":"River","Time":"4 AM - 9 AM &amp; 4 PM - 9 PM","Months":["March","April","May","June","September","October","November"],"ShadowSize":"4"},{"Key":"stringfish","Name":"Stringfish","ItemType":"Fish","Price":15000,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["January","February","December"],"ShadowSize":"6"},{"Key":"salmon","Name":"Salmon","ItemType":"Fish","Price":700,"IslandAvailability":"None","Location":"River","Time":"All day","Months":["September"],"ShadowSize":"4"},{"Key":"kingsalmon","Name":"King salmon","ItemType":"Fish","Price":1800,"IslandAvailability":"None","Location":"Waterfall","Time":"All day","Months":["September"],"ShadowSize":"6"},{"Key":"mittencrab","Name":"Mitten crab","ItemType":"Fish","Price":2000,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["September","October","November"],"ShadowSize":"2"},{"Key":"guppy","Name":"Guppy","ItemType":"Fish","Price":1300,"IslandAvailability":"None","Location":"River","Time":"9 AM - 4 PM","Months":["April","May","June","July","August","September","October","November"],"ShadowSize":"1"},{"Key":"nibblefish","Name":"Nibble fish","ItemType":"Fish","Price":1500,"IslandAvailability":"None","Location":"River","Time":"9 AM - 4 PM","Months":["May","June","July","August","September"],"ShadowSize":"2"},{"Key":"angelfish","Name":"Angelfish","ItemType":"Fish","Price":3000,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["May","June","July","August","September","October"],"ShadowSize":"2"},{"Key":"neontetra","Name":"Neon tetra","ItemType":"Fish","Price":500,"IslandAvailability":"None","Location":"River","Time":"9 AM - 4 PM","Months":["April","May","June","July","August","September","October","November"],"ShadowSize":"1"},{"Key":"piranha","Name":"Piranha","ItemType":"Fish","Price":2500,"IslandAvailability":"None","Location":"River","Time":"9 AM - 4 PM &amp; 9 PM - 4 AM","Months":["June","July","August","September"],"ShadowSize":"2"},{"Key":"arowana","Name":"Arowana","ItemType":"Fish","Price":10000,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["June","July","August","September"],"ShadowSize":"4"},{"Key":"dorado","Name":"Dorado","ItemType":"Fish","Price":15000,"IslandAvailability":"None","Location":"River","Time":"4 AM - 9 PM","Months":["June","July","August","September"],"ShadowSize":"5"},{"Key":"gar","Name":"Gar","ItemType":"Fish","Price":6000,"IslandAvailability":"None","Location":"Lake","Time":"4 PM - 9 AM","Months":["July","August","September"],"ShadowSize":"6"},{"Key":"arapaima","Name":"Arapaima","ItemType":"Fish","Price":10000,"IslandAvailability":"None","Location":"River","Time":"4 PM - 9 AM","Months":["July","August","September"],"ShadowSize":"6"},{"Key":"saddledbichir","Name":"Saddled bichir","ItemType":"Fish","Price":4000,"IslandAvailability":"None","Location":"River","Time":"4 PM - 4 AM","Months":["June","July","August","September"],"ShadowSize":"4"},{"Key":"seabutterfly","Name":"Sea butterfly","ItemType":"Fish","Price":1000,"IslandAvailability":"None","Location":"Ocean","Time":"All day","Months":["January","February","December"],"ShadowSize":"1"},{"Key":"seahorse","Name":"Seahorse","ItemType":"Fish","Price":1100,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["April","May","June","July","August","September","October","November"],"ShadowSize":"1"},{"Key":"clownfish","Name":"Clownfish","ItemType":"Fish","Price":650,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["March","April","May","June","July","August","September"],"ShadowSize":"1"},{"Key":"surgeonfish","Name":"Surgeonfish","ItemType":"Fish","Price":1000,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["April","May","June","July","August","September"],"ShadowSize":"2"},{"Key":"butterflyfish","Name":"Butterfly fish","ItemType":"Fish","Price":1000,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["March","April","May","June","July","August","September"],"ShadowSize":"2"},{"Key":"napoleonfish","Name":"Napoleonfish","ItemType":"Fish","Price":10000,"IslandAvailability":"Shared","Location":"Ocean","Time":"4 AM - 9 PM","Months":["July","August","September","October"],"ShadowSize":"6"},{"Key":"zebraturkeyfish","Name":"Zebra turkeyfish","ItemType":"Fish","Price":400,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["March","April","May","June","July","August","September","October","November"],"ShadowSize":"3"},{"Key":"blowfish","Name":"Blowfish","ItemType":"Fish","Price":125,"IslandAvailability":"None","Location":"Ocean","Time":"9 PM - 4 AM","Months":["January","February","November","December"],"ShadowSize":"3"},{"Key":"pufferfish","Name":"Puffer fish","ItemType":"Fish","Price":240,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["March","April","June","July","August","September"],"ShadowSize":"3"},{"Key":"horsemackerel","Name":"Horse mackerel","ItemType":"Fish","Price":150,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"2"},{"Key":"barredknifejaw","Name":"Barred knifejaw","ItemType":"Fish","Price":5000,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["March","April","May","June","July","August","September","October","November"],"ShadowSize":"3"},{"Key":"seabass","Name":"Sea bass","ItemType":"Fish","Price":200,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"5"},{"Key":"redsnapper","Name":"Red snapper","ItemType":"Fish","Price":3000,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"3"},{"Key":"dab","Name":"Dab","ItemType":"Fish","Price":300,"IslandAvailability":"None","Location":"Ocean","Time":"All day","Months":["January","February","March","April","October","November","December"],"ShadowSize":"3"},{"Key":"oliveflounder","Name":"Olive flounder","ItemType":"Fish","Price":800,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"4"},{"Key":"squid","Name":"Squid","ItemType":"Fish","Price":400,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["January","February","March","April","May","June","July","August","December"],"ShadowSize":"3"},{"Key":"morayeel","Name":"Moray eel","ItemType":"Fish","Price":2000,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["March","April","May","June","July","August","September","October"],"ShadowSize":"5"},{"Key":"ribboneel","Name":"Ribbon eel","ItemType":"Fish","Price":600,"IslandAvailability":"Exclusive","Location":"Island","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Narrow"},{"Key":"footballfish","Name":"Football fish","ItemType":"Fish","Price":2500,"IslandAvailability":"None","Location":"Ocean","Time":"4 PM - 9 AM","Months":["January","February","March","November","December"],"ShadowSize":"4"},{"Key":"tuna","Name":"Tuna","ItemType":"Fish","Price":7000,"IslandAvailability":"None","Location":"Ocean","Time":"All day","Months":["January","February","March","November","December"],"ShadowSize":"6"},{"Key":"bluemarlin","Name":"Blue marlin","ItemType":"Fish","Price":10000,"IslandAvailability":"Shared","Location":"Ocean","Time":"All day","Months":["July","August","September"],"ShadowSize":"6"},{"Key":"gianttrevally","Name":"Giant trevally","ItemType":"Fish","Price":4500,"IslandAvailability":"Exclusive","Location":"Island","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"5"},{"Key":"ray","Name":"Ray","ItemType":"Fish","Price":3000,"IslandAvailability":"Shared","Location":"Ocean","Time":"4 AM - 9 PM","Months":["August","September","October","November"],"ShadowSize":"5"},{"Key":"oceansunfish","Name":"Ocean sunfish","ItemType":"Fish","Price":4000,"IslandAvailability":"Shared","Location":"Ocean","Time":"4 AM - 9 PM","Months":["June","July","August","September"],"ShadowSize":"6 (fin)"},{"Key":"hammerheadshark","Name":"Hammerhead shark","ItemType":"Fish","Price":8000,"IslandAvailability":"Shared","Location":"Ocean","Time":"4 PM - 9 AM","Months":["June","July","August","September"],"ShadowSize":"6 (fin)"},{"Key":"shark","Name":"Shark","ItemType":"Fish","Price":15000,"IslandAvailability":"Shared","Location":"Ocean","Time":"4 PM - 9 AM","Months":["June","July","August","September"],"ShadowSize":"6 (fin)"},{"Key":"sawshark","Name":"Saw shark","ItemType":"Fish","Price":12000,"IslandAvailability":"Shared","Location":"Ocean","Time":"4 PM - 9 AM","Months":["June","July","August","September"],"ShadowSize":"6 (fin)"},{"Key":"whaleshark","Name":"Whale shark","ItemType":"Fish","Price":13000,"IslandAvailability":"Exclusive","Location":"Island","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"6 (fin)"},{"Key":"oarfish","Name":"Oarfish","ItemType":"Fish","Price":9000,"IslandAvailability":"None","Location":"Ocean","Time":"All day","Months":["January","February","March","April","May","December"],"ShadowSize":"6"},{"Key":"coelacanth","Name":"Coelacanth","ItemType":"Fish","Price":15000,"IslandAvailability":"None","Location":"Ocean (rain or snow)","Time":"4 PM - 9 AM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"6"},{"Key":"commonbutterfly","Name":"Common butterfly","ItemType":"Bug","Price":90,"IslandAvailability":"None","Location":"Flying near flowers","Time":"4 AM - 7 PM","Months":["March","April","May","June","September"],"ShadowSize":null},{"Key":"yellowbutterfly","Name":"Yellow butterfly","ItemType":"Bug","Price":90,"IslandAvailability":"None","Location":"Flying near flowers","Time":"6 AM - 4 PM","Months":["March","April","May","June","September"],"ShadowSize":null},{"Key":"tigerbutterfly","Name":"Tiger butterfly","ItemType":"Bug","Price":160,"IslandAvailability":"None","Location":"Flying near flowers","Time":"8 AM - 7 PM","Months":["March","April","May","June","July","August","September"],"ShadowSize":null},{"Key":"peacockbutterfly","Name":"Peacock butterfly","ItemType":"Bug","Price":220,"IslandAvailability":"None","Location":"Flying near flowers*","Time":"4 AM - 7 PM","Months":["March","April","May","June","July","August","September"],"ShadowSize":null},{"Key":"monarchbutterfly","Name":"Monarch butterfly","ItemType":"Bug","Price":140,"IslandAvailability":"None","Location":"Flying","Time":"9 AM - 5 PM","Months":["September","October","November"],"ShadowSize":null},{"Key":"emperorbutterfly","Name":"Emperor butterfly","ItemType":"Bug","Price":2500,"IslandAvailability":"Shared","Location":"Flying","Time":"8 PM - 7 AM","Months":["June","July","August","September"],"ShadowSize":null},{"Key":"agriasbutterfly","Name":"Agrias butterfly","ItemType":"Bug","Price":3000,"IslandAvailability":"Shared","Location":"Flying near flowers","Time":"8 AM - 5 PM","Months":["June","July","August","September"],"ShadowSize":null},{"Key":"rajabrookebutterfly","Name":"Raja Brooke butterfly","ItemType":"Bug","Price":2500,"IslandAvailability":"None","Location":"Flying","Time":"8 AM - 5 PM","Months":["May","June","July","August","September"],"ShadowSize":null},{"Key":"birdwingbutterfly","Name":"Birdwing butterfly","ItemType":"Bug","Price":4000,"IslandAvailability":"Shared","Location":"Flying","Time":"8 AM - 4 PM","Months":["June","July","August","September"],"ShadowSize":null},{"Key":"moth","Name":"Moth","ItemType":"Bug","Price":60,"IslandAvailability":"None","Location":"Flying near lights","Time":"7 PM - 4 AM","Months":["May","June","July","August","September"],"ShadowSize":null},{"Key":"oaksilkmoth","Name":"Oak silk moth","ItemType":"Bug","Price":1200,"IslandAvailability":"Shared","Location":"On trees","Time":"7 PM - 4 AM","Months":["June","July","August","September"],"ShadowSize":null},{"Key":"honeybee","Name":"Honeybee","ItemType":"Bug","Price":100,"IslandAvailability":"None","Location":"Flying near flowers","Time":"8 AM - 5 PM","Months":["March","April","May","June","July"],"ShadowSize":null},{"Key":"bee","Name":"Bee","ItemType":"Bug","Price":2500,"IslandAvailability":"None","Location":"In trees","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":null},{"Key":"longlocust","Name":"Long locust","ItemType":"Bug","Price":200,"IslandAvailability":"Shared","Location":"On the ground","Time":"8 AM - 7 PM","Months":["April","May","June","July","August","September","October","November"],"ShadowSize":null},{"Key":"migratorylocust","Name":"Migratory locust","ItemType":"Bug","Price":600,"IslandAvailability":"None","Location":"On the ground","Time":"8 AM - 7 PM","Months":["August","September","October","November"],"ShadowSize":null},{"Key":"ricegrasshopper","Name":"Rice grasshopper","ItemType":"Bug","Price":400,"IslandAvailability":"None","Location":"On the ground","Time":"8 AM - 7 PM","Months":["August","September"],"ShadowSize":null},{"Key":"mantis","Name":"Mantis","ItemType":"Bug","Price":430,"IslandAvailability":"None","Location":"On flowers","Time":"8 AM - 5 PM","Months":["April","May","June","July","August","September","October","November"],"ShadowSize":null},{"Key":"orchidmantis","Name":"Orchid mantis","ItemType":"Bug","Price":2400,"IslandAvailability":"None","Location":"On white flowers","Time":"8 AM - 7 PM","Months":["April","May","June","July","August","September","October","November"],"ShadowSize":null},{"Key":"browncicada","Name":"Brown cicada","ItemType":"Bug","Price":200,"IslandAvailability":"None","Location":"On trees","Time":"8 AM - 5 PM","Months":["July","August"],"ShadowSize":null},{"Key":"robustcicada","Name":"Robust cicada","ItemType":"Bug","Price":300,"IslandAvailability":"None","Location":"On trees","Time":"8 AM - 5 PM","Months":["July","August"],"ShadowSize":null},{"Key":"giantcicada","Name":"Giant cicada","ItemType":"Bug","Price":500,"IslandAvailability":"None","Location":"On trees","Time":"8 AM - 5 PM","Months":["July","August"],"ShadowSize":null},{"Key":"walkercicada","Name":"Walker cicada","ItemType":"Bug","Price":400,"IslandAvailability":"None","Location":"On trees","Time":"8 AM - 5 PM","Months":["July","August","September"],"ShadowSize":null},{"Key":"eveningcicada","Name":"Evening cicada","ItemType":"Bug","Price":550,"IslandAvailability":"None","Location":"On trees","Time":"4 PM - 7 PM","Months":["July","August"],"ShadowSize":null},{"Key":"cicadashell","Name":"Cicada shell","ItemType":"Bug","Price":100,"IslandAvailability":"None","Location":"On trees","Time":"All day","Months":["July","August"],"ShadowSize":null},{"Key":"lanternfly","Name":"Lantern fly","ItemType":"Bug","Price":1800,"IslandAvailability":"Shared","Location":"On trees","Time":"4 PM - 8 AM","Months":["June","July","August","September"],"ShadowSize":null},{"Key":"reddragonfly","Name":"Red dragonfly","ItemType":"Bug","Price":80,"IslandAvailability":"None","Location":"Flying","Time":"8 AM - 7 PM","Months":["September","October","November"],"ShadowSize":null},{"Key":"darnerdragonfly","Name":"Darner dragonfly","ItemType":"Bug","Price":200,"IslandAvailability":"None","Location":"Flying","Time":"8 AM - 5 PM","Months":["June","July","August"],"ShadowSize":null},{"Key":"bandeddragonfly","Name":"Banded dragonfly","ItemType":"Bug","Price":4500,"IslandAvailability":"None","Location":"Flying","Time":"8 AM - 5 PM","Months":["July","August"],"ShadowSize":null},{"Key":"petaltaildragonfly","Name":"Petaltail dragonfly","ItemType":"Bug","Price":8000,"IslandAvailability":"None","Location":"Flying","Time":"5 PM - 7 PM","Months":["August","September","October"],"ShadowSize":null},{"Key":"ant","Name":"Ant","ItemType":"Bug","Price":80,"IslandAvailability":"None","Location":"On rotten food","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":null},{"Key":"pondskater","Name":"Pondskater","ItemType":"Bug","Price":130,"IslandAvailability":"None","Location":"River and ponds","Time":"8 AM - 7 PM","Months":["May","June","July","August","September"],"ShadowSize":null},{"Key":"divingbeetle","Name":"Diving beetle","ItemType":"Bug","Price":800,"IslandAvailability":"None","Location":"Rivers and ponds","Time":"8 AM - 5 PM","Months":["May","June","July","August","September"],"ShadowSize":null},{"Key":"stinkbug","Name":"Stinkbug","ItemType":"Bug","Price":120,"IslandAvailability":"None","Location":"On trees","Time":"All day","Months":["April","May","June","July","August","September","October"],"ShadowSize":null},{"Key":"snail","Name":"Snail","ItemType":"Bug","Price":250,"IslandAvailability":"None","Location":"On bushes (raining)","Time":"All day","Months":["April","May","June","July","August","September"],"ShadowSize":null},{"Key":"cricket","Name":"Cricket","ItemType":"Bug","Price":160,"IslandAvailability":"None","Location":"On the ground","Time":"5 PM - 8 AM","Months":["September","October","November"],"ShadowSize":null},{"Key":"bellcricket","Name":"Bell cricket","ItemType":"Bug","Price":430,"IslandAvailability":"None","Location":"On the ground","Time":"5 PM - 8 AM","Months":["September","October"],"ShadowSize":null},{"Key":"grasshopper","Name":"Grasshopper","ItemType":"Bug","Price":160,"IslandAvailability":"None","Location":"On the ground","Time":"8 AM - 5 PM","Months":["July","August","September"],"ShadowSize":null},{"Key":"molecricket","Name":"Mole cricket","ItemType":"Bug","Price":280,"IslandAvailability":"None","Location":"Underground","Time":"All day","Months":["January","February","March","April","May","November","December"],"ShadowSize":null},{"Key":"walkingleaf","Name":"Walking leaf","ItemType":"Bug","Price":600,"IslandAvailability":"None","Location":"On the ground","Time":"8 AM - 5 PM","Months":["July","August","September"],"ShadowSize":null},{"Key":"walkingstick","Name":"Walking stick","ItemType":"Bug","Price":600,"IslandAvailability":"Shared","Location":"On trees","Time":"4 AM - 7 PM","Months":["July","August","September","October","November"],"ShadowSize":null},{"Key":"bagworm","Name":"Bagworm","ItemType":"Bug","Price":300,"IslandAvailability":"None","Location":"In trees","Time":"All day","Months":["January","February","October","November","December"],"ShadowSize":null},{"Key":"ladybug","Name":"Ladybug","ItemType":"Bug","Price":200,"IslandAvailability":"None","Location":"On flowers","Time":"8 AM - 5 PM","Months":["March","April","May","June","October"],"ShadowSize":null},{"Key":"violinbeetle","Name":"Violin beetle","ItemType":"Bug","Price":260,"IslandAvailability":"None","Location":"Tree stumps","Time":"4 AM - 7 PM","Months":["June","September","October","November"],"ShadowSize":null},{"Key":"longhornbeetle","Name":"Longhorn beetle","ItemType":"Bug","Price":260,"IslandAvailability":"Shared","Location":"Tree stumps","Time":"11 PM - 7 PM","Months":["July","August"],"ShadowSize":null},{"Key":"tigerbeetle","Name":"Tiger beetle","ItemType":"Bug","Price":1500,"IslandAvailability":"Shared","Location":"On the ground","Time":"8 AM - 11 PM","Months":["March","April","May","June","July","August","September","October"],"ShadowSize":null},{"Key":"dungbeetle","Name":"Dung beetle","ItemType":"Bug","Price":800,"IslandAvailability":"None","Location":"Snow balls","Time":"5 PM - 8 AM","Months":["January","February","December"],"ShadowSize":null},{"Key":"wharfroach","Name":"Wharf roach","ItemType":"Bug","Price":200,"IslandAvailability":"Shared","Location":"On the beach","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":null},{"Key":"hermitcrab","Name":"Hermit crab","ItemType":"Bug","Price":1000,"IslandAvailability":"Exclusive","Location":"On the beach","Time":"7 PM - 8 AM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":null},{"Key":"firefly","Name":"Firefly","ItemType":"Bug","Price":300,"IslandAvailability":"None","Location":"Flying near the river","Time":"7 PM - 4 AM","Months":["June"],"ShadowSize":null},{"Key":"fruitbeetle","Name":"Fruit beetle","ItemType":"Bug","Price":100,"IslandAvailability":"Shared","Location":"On trees","Time":"All day","Months":["July","August","September"],"ShadowSize":null},{"Key":"scarabbeetle","Name":"Scarab beetle","ItemType":"Bug","Price":6000,"IslandAvailability":"Shared","Location":"On trees","Time":"11 PM - 8 AM","Months":["July","August"],"ShadowSize":null},{"Key":"jewelbeetle","Name":"Jewel beetle","ItemType":"Bug","Price":2400,"IslandAvailability":"Shared","Location":"On trees","Time":"8 AM - 5 PM","Months":["July","August"],"ShadowSize":null},{"Key":"miyamastag","Name":"Miyama stag","ItemType":"Bug","Price":1000,"IslandAvailability":"Shared","Location":"On trees","Time":"All day","Months":["July","August"],"ShadowSize":null},{"Key":"sawstag","Name":"Saw stag","ItemType":"Bug","Price":2000,"IslandAvailability":"Shared","Location":"On trees","Time":"All day","Months":["July","August"],"ShadowSize":null},{"Key":"giantstag","Name":"Giant stag","ItemType":"Bug","Price":10000,"IslandAvailability":"Shared","Location":"On trees","Time":"11 PM - 8 AM","Months":["July","August"],"ShadowSize":null},{"Key":"rainbowstag","Name":"Rainbow stag","ItemType":"Bug","Price":10000,"IslandAvailability":"Shared","Location":"On trees","Time":"5 PM - 8 AM","Months":["June","July","August","September"],"ShadowSize":null},{"Key":"cyclommatusstag","Name":"Cyclommatus stag","ItemType":"Bug","Price":8000,"IslandAvailability":"Shared","Location":"On palm trees","Time":"5 PM - 8 AM","Months":["June","July","August"],"ShadowSize":null},{"Key":"goldenstag","Name":"Golden stag","ItemType":"Bug","Price":12000,"IslandAvailability":"Shared","Location":"On palm trees","Time":"5 PM - 8 AM","Months":["June","July","August"],"ShadowSize":null},{"Key":"horneddynastid","Name":"Horned dynastid","ItemType":"Bug","Price":1350,"IslandAvailability":"Shared","Location":"On trees","Time":"7 PM - 8 AM","Months":["June","July","August"],"ShadowSize":null},{"Key":"hornedatlas","Name":"Horned atlas","ItemType":"Bug","Price":8000,"IslandAvailability":"Shared","Location":"On palm trees","Time":"5 PM - 8 AM","Months":["June","July","August"],"ShadowSize":null},{"Key":"hornedelephant","Name":"Horned elephant","ItemType":"Bug","Price":8000,"IslandAvailability":"Shared","Location":"On palm trees","Time":"5 PM - 8 AM","Months":["June","July","August"],"ShadowSize":null},{"Key":"hornedhercules","Name":"Horned hercules","ItemType":"Bug","Price":12000,"IslandAvailability":"Shared","Location":"On palm trees","Time":"5 PM - 8 AM","Months":["June","July","August"],"ShadowSize":null},{"Key":"goliathbeetle","Name":"Goliath beetle","ItemType":"Bug","Price":6000,"IslandAvailability":"Shared","Location":"On palm trees","Time":"5 PM - 8 AM","Months":["June","July","August","September"],"ShadowSize":null},{"Key":"flea","Name":"Flea","ItemType":"Bug","Price":70,"IslandAvailability":"None","Location":"On villagers","Time":"All day","Months":["March","April","May","June","July","August","September","October","November"],"ShadowSize":null},{"Key":"pillbug","Name":"Pill bug","ItemType":"Bug","Price":250,"IslandAvailability":"None","Location":"Under rocks","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":null},{"Key":"mosquito","Name":"Mosquito","ItemType":"Bug","Price":130,"IslandAvailability":"None","Location":"Flying","Time":"5 PM - 4 AM","Months":["June","July","August","September"],"ShadowSize":null},{"Key":"fly","Name":"Fly","ItemType":"Bug","Price":60,"IslandAvailability":"None","Location":"Flying near trash","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":null},{"Key":"housecentipede","Name":"House centipede","ItemType":"Bug","Price":250,"IslandAvailability":"None","Location":"Under rocks","Time":"7 PM - 8 AM","Months":["August","September","October"],"ShadowSize":null},{"Key":"centipede","Name":"Centipede","ItemType":"Bug","Price":300,"IslandAvailability":"None","Location":"Under rocks","Time":"4 PM - 11 PM","Months":["January","February","June","July","August","September","October","November","December"],"ShadowSize":null},{"Key":"spider","Name":"Spider","ItemType":"Bug","Price":300,"IslandAvailability":"None","Location":"In trees","Time":"All day","Months":["March","April","May","June","July","August","September","October"],"ShadowSize":null},{"Key":"tarantula","Name":"Tarantula","ItemType":"Bug","Price":8000,"IslandAvailability":"None","Location":"On the ground","Time":"7 PM - 4 PM","Months":["June","July","August"],"ShadowSize":null},{"Key":"scorpion","Name":"Scorpion","ItemType":"Bug","Price":8000,"IslandAvailability":"None","Location":"On the ground","Time":"7 PM - 4 AM","Months":["July","August","September"],"ShadowSize":null},{"Key":"seaweed","Name":"Seaweed","ItemType":"DeepSeaCreature","Price":200,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","November","December"],"ShadowSize":"Large"},{"Key":"seagrapes","Name":"Sea grapes","ItemType":"DeepSeaCreature","Price":600,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["June","July","August","September"],"ShadowSize":"Small"},{"Key":"seaurchin","Name":"Sea urchin","ItemType":"DeepSeaCreature","Price":800,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["April","May","June","July","August","September"],"ShadowSize":"Small"},{"Key":"acornbarnacle","Name":"Acorn barnacle","ItemType":"DeepSeaCreature","Price":200,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Very small"},{"Key":"oyster","Name":"Oyster","ItemType":"DeepSeaCreature","Price":400,"IslandAvailability":"None","Location":"on the ocean floor","Time":"All day","Months":["January","February","September","October","November","December"],"ShadowSize":"Small"},{"Key":"turbanshell","Name":"Turban shell","ItemType":"DeepSeaCreature","Price":300,"IslandAvailability":"None","Location":"on the ocean floor","Time":"4 PM - 9 AM","Months":["January","February","March","April","May","August","September","October","November","December"],"ShadowSize":"Small"},{"Key":"abalone","Name":"Abalone","ItemType":"DeepSeaCreature","Price":400,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"4 PM - 9 AM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Medium"},{"Key":"earshell","Name":"Ear shell","ItemType":"DeepSeaCreature","Price":300,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"4 PM - 9 AM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Small"},{"Key":"clam","Name":"Clam","ItemType":"DeepSeaCreature","Price":300,"IslandAvailability":"None","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","September","October","November","December"],"ShadowSize":"Small"},{"Key":"pearloyster","Name":"Pearl oyster","ItemType":"DeepSeaCreature","Price":1600,"IslandAvailability":"None","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Small"},{"Key":"scallop","Name":"Scallop","ItemType":"DeepSeaCreature","Price":1000,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Medium"},{"Key":"seaanemone","Name":"Sea anemone","ItemType":"DeepSeaCreature","Price":100,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Medium"},{"Key":"seastar","Name":"Sea star","ItemType":"DeepSeaCreature","Price":100,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Small"},{"Key":"seacucumber","Name":"Sea cucumber","ItemType":"DeepSeaCreature","Price":150,"IslandAvailability":"None","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","November","December"],"ShadowSize":"Medium"},{"Key":"seaslug","Name":"Sea slug","ItemType":"DeepSeaCreature","Price":200,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Small"},{"Key":"flatworm","Name":"Flatworm","ItemType":"DeepSeaCreature","Price":200,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"4 PM - 9 AM","Months":["June","July","August","September"],"ShadowSize":"Small"},{"Key":"mantisshrimp","Name":"Mantis shrimp","ItemType":"DeepSeaCreature","Price":1250,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"4 PM - 9 AM","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Small"},{"Key":"sweetshrimp","Name":"Sweet shrimp","ItemType":"DeepSeaCreature","Price":650,"IslandAvailability":"None","Location":"on the ocean floor","Time":"4 PM - 9 AM","Months":["January","February","September","October","November","December"],"ShadowSize":"Small"},{"Key":"tigerprawn","Name":"Tiger prawn","ItemType":"DeepSeaCreature","Price":1600,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"4 PM - 9 AM","Months":["June","July","August","September"],"ShadowSize":"Small"},{"Key":"spinylobster","Name":"Spiny lobster","ItemType":"DeepSeaCreature","Price":3000,"IslandAvailability":"None","Location":"on the ocean floor","Time":"9 PM - 4 AM","Months":["September","October","November","December"],"ShadowSize":"Large"},{"Key":"lobster","Name":"Lobster","ItemType":"DeepSeaCreature","Price":2500,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Large"},{"Key":"snowcrab","Name":"Snow crab","ItemType":"DeepSeaCreature","Price":4000,"IslandAvailability":"None","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","November","December"],"ShadowSize":"Large"},{"Key":"horsehaircrab","Name":"Horsehair crab","ItemType":"DeepSeaCreature","Price":4000,"IslandAvailability":"None","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","November","December"],"ShadowSize":"Medium"},{"Key":"redkingcrab","Name":"Red king crab","ItemType":"DeepSeaCreature","Price":6000,"IslandAvailability":"None","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","November","December"],"ShadowSize":"Large"},{"Key":"spidercrab","Name":"Spider crab","ItemType":"DeepSeaCreature","Price":10000,"IslandAvailability":"None","Location":"on the ocean floor","Time":"All day","Months":["March","April"],"ShadowSize":"Huge"},{"Key":"octopus","Name":"Octopus","ItemType":"DeepSeaCreature","Price":1000,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","March","April","May","June","July","September","October","November","December"],"ShadowSize":"Medium"},{"Key":"spottedgardeneel","Name":"Spotted garden eel","ItemType":"DeepSeaCreature","Price":600,"IslandAvailability":"Exclusive","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Small"},{"Key":"chamberednautilus","Name":"Chambered nautilus","ItemType":"DeepSeaCreature","Price":900,"IslandAvailability":"Shared","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Medium"},{"Key":"horseshoecrab","Name":"Horseshoe crab","ItemType":"DeepSeaCreature","Price":1500,"IslandAvailability":"None","Location":"on the ocean floor","Time":"9 PM - 4 AM","Months":["July","August","September"],"ShadowSize":"Medium"},{"Key":"giantisopod","Name":"Giant isopod","ItemType":"DeepSeaCreature","Price":9000,"IslandAvailability":"Exclusive","Location":"on the ocean floor","Time":"All day","Months":["January","February","March","April","May","June","July","August","September","October","November","December"],"ShadowSize":"Medium"}];

// Route the incoming request based on type (LaunchRequest, IntentRequest,
// etc.) The JSON body of the request is provided in the event parameter.
exports.handler = function (event, context) {
    try {
        console.log("event.session.application.applicationId=" + event.session.application.applicationId);

        /**
         * Uncomment this if statement and populate with your skill's application ID to
         * prevent someone else from configuring a skill that sends requests to this function.
         */

    // if (event.session.application.applicationId !== "") {
    //     context.fail("Invalid Application ID");
    //  }

        if (event.session.new) {
            onSessionStarted({requestId: event.request.requestId}, event.session);
        }

        if (event.request.type === "LaunchRequest") {
            onLaunch(event.request,
                event.session,
                function callback(sessionAttributes, speechletResponse) {
                    context.succeed(buildResponse(sessionAttributes, speechletResponse));
                });
        } else if (event.request.type === "IntentRequest") {
            onIntent(event.request,
                event.session,
                function callback(sessionAttributes, speechletResponse) {
                    context.succeed(buildResponse(sessionAttributes, speechletResponse));
                });
        } else if (event.request.type === "SessionEndedRequest") {
            onSessionEnded(event.request, event.session);
            context.succeed();
        }
    } catch (e) {
        context.fail("Exception: " + e);
    }
};

/**
 * Called when the session starts.
 */
function onSessionStarted(sessionStartedRequest, session) {}

/**
 * Called when the user invokes the skill without specifying what they want.
 */
function onLaunch(launchRequest, session, callback) {
	getWelcomeResponse(callback);
}

/**
 * Called when the user specifies an intent for this skill.
 */
function onIntent(intentRequest, session, callback) {

    var intent = intentRequest.intent;
    var intentName = intentRequest.intent.name;

    // dispatch custom intents to handlers here
    if (intentName === "PriceIntent") {
    	handleAttributeRequest(intent, session, callback, "Price");
    } else if (intentName === "LocationIntent") {
    	handleAttributeRequest(intent, session, callback, "Location");
    } else if (intentName === "ShadowIntent") {
    	handleAttributeRequest(intent, session, callback, "Shadow size");
    } else if (intentName === "TimeIntent") {
    	handleAttributeRequest(intent, session, callback, "Time");
    } else if (intentName === "InfoIntent") {
    	handleAttributeRequest(intent, session, callback, "Info");
    } else if (intentName === "AMAZON.HelpIntent") {
    	handleFinishSessionRequest(intent, session, callback);
    } else if (intentName === "AMAZON.StopIntent") {
    	handleFinishSessionRequest(intent, session, callback);
    } else if (intentName === "AMAZON.CancelIntent") {
    	handleFinishSessionRequest(intent, session, callback);
    } else {
    	throw "Invalid intent";
    }
}

/**
 * Called when the user ends the session.
 * Is not called when the skill returns shouldEndSession=true.
 */
function onSessionEnded(sessionEndedRequest, session) {}

// ------- Skill specific logic -------

function getWelcomeResponse(callback) {
    var speechOutput = "Welcome to New Leaf. Ask about items in Animal Crossing: New Leaf.";
    var header = "New Leaf";
    var shouldEndSession = true;
    var sessionAttributes = {
    	"speechOutput": speechOutput
    }

    callback(sessionAttributes, buildSpeechletResponseWithoutReprompt(header, speechOutput, shouldEndSession));
}

function handleAttributeRequest(intent, session, callback, attribute) {
	if (!session.attributes) {
        session.attributes = {};
    }

	var item = intent.slots.Item.value,
		itemSearchable = item.toLowerCase().replace(/\s/g, ""),
		shouldEndSession = true,
		speechOutput = "",
		header = "",
		itemFound = didYouMean(itemSearchable, items, "Key");

	if(itemFound) {
		header = itemFound.Name + " " + attribute.toLowerCase();
		if(attribute === "Price") {
			speechOutput = "The " + itemFound.Name.toLowerCase() + (itemFound.Key.endsWith(itemFound.ItemType.toLowerCase()) ? "" : " " + itemFound.ItemType.toLowerCase()) + " is worth " + itemFound.Price + " bells.";
		} else if (attribute === "Location") {
			var location = (itemFound.Location.toLowerCase().startsWith("on ") || itemFound.Location.toLowerCase().startsWith("in ") || itemFound.Location.toLowerCase().startsWith("flying") || itemFound.Location.toLowerCase().startsWith("under"))
								? itemFound.Location.toLowerCase()
								: (itemFound.ItemType === "Bug" ? "on " + itemFound.Location.toLowerCase() : "at the " + itemFound.Location.toLowerCase());
			var islandModifier = (itemFound.IslandAvailability === "None" || (itemFound.IslandAvailability === "Shared") && itemFound.Location.toLowerCase() === "island") ? "" : ((itemFound.IslandAvailability === "Shared") ? " in town and at the island" : " at the island.");
			speechOutput = "The " + itemFound.Name.toLowerCase() + (itemFound.Key.endsWith(itemFound.ItemType.toLowerCase()) ? "" : " " + itemFound.ItemType.toLowerCase()) + " can be found " + location + islandModifier + ".";
		} else if (attribute === "Shadow size") {
			if(itemFound.ShadowSize != null && itemFound.ShadowSize != undefined && itemFound.ShadowSize != "") {
				speechOutput = "The " + itemFound.Name.toLowerCase() + (itemFound.Key.endsWith(itemFound.ItemType.toLowerCase()) ? "" : " " + itemFound.ItemType.toLowerCase()) + " has shadow size " + itemFound.ShadowSize.toLowerCase() + ".";
			} else {
				speechOutput = "The " + itemFound.Name.toLowerCase() + (itemFound.Key.endsWith(itemFound.ItemType.toLowerCase()) ? "" : " " + itemFound.ItemType.toLowerCase()) + " has no shadow size property.";
			}
		} else if (attribute === "Time") {
			var months = itemFound.Months.length === 12 ? " all year long" : " " + itemFound.Months.join(", ");
			speechOutput = "The " + itemFound.Name.toLowerCase() + (itemFound.Key.endsWith(itemFound.ItemType.toLowerCase()) ? "" : " " + itemFound.ItemType.toLowerCase()) + " is available " + itemFound.Time.toLowerCase().replace("-", "to") + months + ".";
		} else if (attribute === "Info") {
			var location = (itemFound.Location.toLowerCase().startsWith("on ") || itemFound.Location.toLowerCase().startsWith("in ") || itemFound.Location.toLowerCase().startsWith("flying") || itemFound.Location.toLowerCase().startsWith("under"))
								? itemFound.Location.toLowerCase()
								: (itemFound.ItemType === "Bug" ? "on " + itemFound.Location.toLowerCase() : "at the " + itemFound.Location.toLowerCase());
			var islandModifier = (itemFound.IslandAvailability === "None" || (itemFound.IslandAvailability === "Shared") && itemFound.Location.toLowerCase() === "island") ? "" : ((itemFound.IslandAvailability === "Shared") ? " in town and at the island" : " at the island.");
			var months = itemFound.Months.length === 12 ? " all year long" : " " + itemFound.Months.join(", ");
			speechOutput = "The " + itemFound.Name.toLowerCase() + (itemFound.Key.endsWith(itemFound.ItemType.toLowerCase()) ? "" : " " + itemFound.ItemType.toLowerCase()) + " is worth " + itemFound.Price + " bells, ";
			speechOutput += (itemFound.ShadowSize != null && itemFound.ShadowSize != undefined && itemFound.ShadowSize != "") ? "has shadow size " + itemFound.ShadowSize.toLowerCase() + ", " : "";
			speechOutput += "can be found " + location + islandModifier + ", ";
			speechOutput += "and is available " + itemFound.Time.toLowerCase().replace("-", "to") + months + ".";
		}
	} else {
		itemSearchable = null;
		speechOutput = "Item " + item + " not recognized.";
		header = "New Leaf Item " + item + " Unrecognized";
	}

	callback(session.attributes, buildSpeechletResponseWithoutReprompt(header, speechOutput, shouldEndSession));
}

function handleGetHelpRequest(intent, session, callback) {
    // Ensure that session.attributes has been initialized
    if (!session.attributes) {
        session.attributes = {};
    }

    handleFinishSessionRequest(intent, session, callback);
}

function handleFinishSessionRequest(intent, session, callback) {
    // End the session with a "Good bye!" if the user wants to quit the game
    callback(session.attributes,
        buildSpeechletResponseWithoutCard("Good bye!", "", true));
}


// ------- Helper functions to build responses for Alexa -------

function buildSpeechletResponseWithoutReprompt(title, output, shouldEndSession) {
	return {
        outputSpeech: {
            type: "PlainText",
            text: output
        },
        card: {
            type: "Simple",
            title: title,
            content: output
        },
        shouldEndSession: shouldEndSession
    };
}

function buildSpeechletResponse(title, output, repromptText, shouldEndSession) {
    return {
        outputSpeech: {
            type: "PlainText",
            text: output
        },
        card: {
            type: "Simple",
            title: title,
            content: output
        },
        reprompt: {
            outputSpeech: {
                type: "PlainText",
                text: repromptText
            }
        },
        shouldEndSession: shouldEndSession
    };
}

function buildSpeechletResponseWithoutCard(output, repromptText, shouldEndSession) {
    return {
        outputSpeech: {
            type: "PlainText",
            text: output
        },
        reprompt: {
            outputSpeech: {
                type: "PlainText",
                text: repromptText
            }
        },
        shouldEndSession: shouldEndSession
    };
}

function buildResponse(sessionAttributes, speechletResponse) {
    return {
        version: "1.0",
        sessionAttributes: sessionAttributes,
        response: speechletResponse
    };
}

/*
didYouMean.js - A simple JavaScript matching engine
===================================================
[Available on GitHub](https://github.com/dcporter/didyoumean.js).
A super-simple, highly optimized JS library for matching human-quality input to a list of potential
matches. You can use it to suggest a misspelled command-line utility option to a user, or to offer
links to nearby valid URLs on your 404 page. (The examples below are taken from a personal project,
my [HTML5 business card](http://dcporter.aws.af.cm/me), which uses didYouMean.js to suggest correct
URLs from misspelled ones, such as [dcporter.aws.af.cm/me/instagarm](http://dcporter.aws.af.cm/me/instagarm).)
Uses the [Levenshtein distance algorithm](https://en.wikipedia.org/wiki/Levenshtein_distance).
didYouMean.js works in the browser as well as in node.js. To install it for use in node:
```
npm install didyoumean
```
Examples
--------
Matching against a list of strings:
```
var input = 'insargrm'
var list = ['facebook', 'twitter', 'instagram', 'linkedin'];
console.log(didYouMean(input, list));
> 'instagram'
// The method matches 'insargrm' to 'instagram'.
input = 'google plus';
console.log(didYouMean(input, list));
> null
// The method was unable to find 'google plus' in the list of options.
```
Matching against a list of objects:
```
var input = 'insargrm';
var list = [ { id: 'facebook' }, { id: 'twitter' }, { id: 'instagram' }, { id: 'linkedin' } ];
var key = 'id';
console.log(didYouMean(input, list, key));
> 'instagram'
// The method returns the matching value.
didYouMean.returnWinningObject = true;
console.log(didYouMean(input, list, key));
> { id: 'instagram' }
// The method returns the matching object.
```
didYouMean(str, list, [key])
----------------------------
- str: The string input to match.
- list: An array of strings or objects to match against.
- key (OPTIONAL): If your list array contains objects, you must specify the key which contains the string
  to match against.
Returns: the closest matching string, or null if no strings exceed the threshold.
Options
-------
Options are set on the didYouMean function object. You may change them at any time.
### threshold
  By default, the method will only return strings whose edit distance is less than 40% (0.4x) of their length.
  For example, if a ten-letter string is five edits away from its nearest match, the method will return null.
  You can control this by setting the "threshold" value on the didYouMean function. For example, to set the
  edit distance threshold to 50% of the input string's length:
  ```
  didYouMean.threshold = 0.5;
  ```
  To return the nearest match no matter the threshold, set this value to null.
### thresholdAbsolute
  This option behaves the same as threshold, but instead takes an integer number of edit steps. For example,
  if thresholdAbsolute is set to 20 (the default), then the method will only return strings whose edit distance
  is less than 20. Both options apply.
### caseSensitive
  By default, the method will perform case-insensitive comparisons. If you wish to force case sensitivity, set
  the "caseSensitive" value to true:
  ```
  didYouMean.caseSensitive = true;
  ```
### nullResultValue
  By default, the method will return null if there is no sufficiently close match. You can change this value here.
### returnWinningObject
  By default, the method will return the winning string value (if any). If your list contains objects rather
  than strings, you may set returnWinningObject to true.
  
  ```
  didYouMean.returnWinningObject = true;
  ```
  
  This option has no effect on lists of strings.
### returnFirstMatch
  
  By default, the method will search all values and return the closest match. If you're simply looking for a "good-
  enough" match, you can set your thresholds appropriately and set returnFirstMatch to true to substantially speed
  things up.
License
-------
didYouMean copyright (c) 2013-2014 Dave Porter.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License
[here](http://www.apache.org/licenses/LICENSE-2.0).
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
  // The didYouMean method.
  function didYouMean(str, list, key) {
    if (!str) return null;

    // If we're running a case-insensitive search, smallify str.
    if (!didYouMean.caseSensitive) { str = str.toLowerCase(); }

    // Calculate the initial value (the threshold) if present.
    var thresholdRelative = didYouMean.threshold === null ? null : didYouMean.threshold * str.length,
        thresholdAbsolute = didYouMean.thresholdAbsolute,
        winningVal;
    if (thresholdRelative !== null && thresholdAbsolute !== null) winningVal = Math.min(thresholdRelative, thresholdAbsolute);
    else if (thresholdRelative !== null) winningVal = thresholdRelative;
    else if (thresholdAbsolute !== null) winningVal = thresholdAbsolute;
    else winningVal = null;

    // Get the edit distance to each option. If the closest one is less than 40% (by default) of str's length,
    // then return it.
    var winner, candidate, testCandidate, val,
        i, len = list.length;
    for (i = 0; i < len; i++) {
      // Get item.
      candidate = list[i];
      // If there's a key, get the candidate value out of the object.
      if (key) { candidate = candidate[key]; }
      // Gatekeep.
      if (!candidate) { continue; }
      // If we're running a case-insensitive search, smallify the candidate.
      if (!didYouMean.caseSensitive) { testCandidate = candidate.toLowerCase(); }
      else { testCandidate = candidate; }
      // Get and compare edit distance.
      val = getEditDistance(str, testCandidate, winningVal);
      // If this value is smaller than our current winning value, OR if we have no winning val yet (i.e. the
      // threshold option is set to null, meaning the caller wants a match back no matter how bad it is), then
      // this is our new winner.
      if (winningVal === null || val < winningVal) {
        winningVal = val;
        // Set the winner to either the value or its object, depending on the returnWinningObject option.
        if (key && didYouMean.returnWinningObject) winner = list[i];
        else winner = candidate;
        // If we're returning the first match, return it now.
        if (didYouMean.returnFirstMatch) return winner;
      }
    }

    // If we have a winner, return it.
    return winner || didYouMean.nullResultValue;
  }

  // Set default options.
  didYouMean.threshold = 0.9;
  didYouMean.thresholdAbsolute = 30;
  didYouMean.caseSensitive = false;
  didYouMean.nullResultValue = null;
  didYouMean.returnWinningObject = true;
  didYouMean.returnFirstMatch = false;

  var MAX_INT = Math.pow(2,32) - 1; // We could probably go higher than this, but for practical reasons let's not.
  function getEditDistance(a, b, max) {
    // Handle null or undefined max.
    max = max || max === 0 ? max : MAX_INT;

    var lena = a.length;
    var lenb = b.length;

    // Fast path - no A or B.
    if (lena === 0) return Math.min(max + 1, lenb);
    if (lenb === 0) return Math.min(max + 1, lena);

    // Fast path - length diff larger than max.
    if (Math.abs(lena - lenb) > max) return max + 1;

    // Slow path.
    var matrix = [],
        i, j, colMin, minJ, maxJ;

    // Set up the first row ([0, 1, 2, 3, etc]).
    for (i = 0; i <= lenb; i++) { matrix[i] = [i]; }

    // Set up the first column (same).
    for (j = 0; j <= lena; j++) { matrix[0][j] = j; }

    // Loop over the rest of the columns.
    for (i = 1; i <= lenb; i++) {
      colMin = MAX_INT;
      minJ = 1;
      if (i > max) minJ = i - max;
      maxJ = lenb + 1;
      if (maxJ > max + i) maxJ = max + i;
      // Loop over the rest of the rows.
      for (j = 1; j <= lena; j++) {
        // If j is out of bounds, just put a large value in the slot.
        if (j < minJ || j > maxJ) {
          matrix[i][j] = max + 1;
        }

        // Otherwise do the normal Levenshtein thing.
        else {
          // If the characters are the same, there's no change in edit distance.
          if (b.charAt(i - 1) === a.charAt(j - 1)) {
            matrix[i][j] = matrix[i - 1][j - 1];
          }
          // Otherwise, see if we're substituting, inserting or deleting.
          else {
            matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, // Substitute
                                    Math.min(matrix[i][j - 1] + 1, // Insert
                                    matrix[i - 1][j] + 1)); // Delete
          }
        }

        // Either way, update colMin.
        if (matrix[i][j] < colMin) colMin = matrix[i][j];
      }

      // If this column's minimum is greater than the allowed maximum, there's no point
      // in going on with life.
      if (colMin > max) return max + 1;
    }
    // If we made it this far without running into the max, then return the final matrix value.
    return matrix[lenb][lena];
  }